require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"MultiTouchEvents":[function(require,module,exports){
// Generated by CoffeeScript 1.9.1
var LayerPinch, _angles, _distances, _fingers, _midPoints,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

Events.Pinch = "pinch";

Events.PinchEnd = "pinchend";

_fingers = [];

_distances = [];

_angles = [];

_midPoints = [];

exports.LayerMultiTouchGesture = (function(superClass) {
  extend(LayerMultiTouchGesture, superClass);

  function LayerMultiTouchGesture(options) {
    if (options == null) {
      options = {};
    }
    LayerMultiTouchGesture.__super__.constructor.call(this, options);
  }

  LayerMultiTouchGesture.define("pinch", {
    get: function() {
      return this._pinch != null ? this._pinch : this._pinch = new LayerPinch(this);
    },
    set: function() {
      if (_isBoolean(value)) {
        return this.pinch.enabled = value;
      }
    }
  });

  return LayerMultiTouchGesture;

})(Framer.Layer);

window.Layer = exports.LayerMultiTouchGesture;

LayerPinch = (function(superClass) {
  extend(LayerPinch, superClass);

  LayerPinch.define("propagateEvents", LayerPinch.simpleProperty("propagateEvents", true));

  function LayerPinch(layer1) {
    this.layer = layer1;
    this._endValues = bind(this._endValues, this);
    this._pinchEnd = bind(this._pinchEnd, this);
    this._pinch = bind(this._pinch, this);
    this._pinchStart = bind(this._pinchStart, this);
    LayerPinch.__super__.constructor.apply(this, arguments);
    this.enabled = true;
    this.attach();
  }

  LayerPinch.prototype.attach = function() {
    return this.layer.on(Events.TouchStart, this._pinchStart);
  };

  LayerPinch.prototype._pinchStart = function(event) {
    this._fingers = event.targetTouches.length;
    if (this._fingers >= 2 && Utils.isMobile()) {
      document.addEventListener(Events.TouchMove, this._pinch);
      return document.addEventListener(Events.TouchEnd, this._pinchEnd);
    }
  };

  LayerPinch.prototype._pinch = function(event) {
    if (!this.enabled) {
      return;
    }
    event.preventDefault();
    if (!this.propagateEvents) {
      event.stopPropagation();
    }
    this._isPinching = true;
    this._fingers = event.targetTouches.length;
    if (this._fingers >= 2) {
      this._calculateDistance(event, this);
      this._calculateAngle(event, this);
      this._calculateMidPoint(event, this);
      return this.layer.emit(Events.Pinch, event);
    }
  };

  LayerPinch.prototype._pinchEnd = function(event) {
    if (event.targetTouches.length <= 0 && this._isPinching) {
      document.removeEventListener(Events.TouchMove, this._pinch);
      this._endValues(this);
      this.layer.emit(Events.PinchEnd, event);
      return this._isPinching = false;
    }
  };

  LayerPinch.prototype._calculateDistance = function(event, layer) {
    var distance, length, points, touches;
    length = event.targetTouches.length - 1;
    touches = event.targetTouches;
    points = {
      x: Math.pow(touches[length].pageX - touches[0].pageX, 2),
      y: Math.pow(touches[length].pageY - touches[0].pageY, 2)
    };
    distance = Math.sqrt(points.x + points.y);
    _distances.push(distance);
    return layer._distance = _distances.slice(-1)[0] - _distances.slice(0, 1)[0];
  };

  LayerPinch.prototype._calculateAngle = function(event, layer) {
    var angle, length, line, touches;
    length = event.targetTouches.length - 1;
    touches = event.targetTouches;
    line = {
      rise: touches[0].pageY - touches[length].pageY,
      run: touches[0].pageX - touches[length].pageX
    };
    angle = Math.atan(line.rise / line.run) * (180 / Math.PI);
    _angles.push(angle);
    return layer._angle = _angles.slice(-1)[0] - _angles.slice(0, 1)[0];
  };

  LayerPinch.prototype._calculateMidPoint = function(event, layer) {
    var i, len, midPoint, ref, touch, x, y;
    x = 0;
    y = 0;
    ref = event.targetTouches;
    for (i = 0, len = ref.length; i < len; i++) {
      touch = ref[i];
      x += touch.pageX;
      y += touch.pageY;
    }
    midPoint = {
      x: x / event.targetTouches.length,
      y: y / event.targetTouches.length
    };
    _midPoints.push(midPoint);
    layer._midPoint = _midPoints.slice(-1)[0];
    return layer._midPointDistance = _midPoints.slice(-1)[0] - _midPoints.slice(0, 1)[0];
  };

  LayerPinch.prototype._endValues = function(layer) {
    layer._previousDistance = layer._distance = _distances.slice(-1)[0];
    layer._previousAngle = layer._angle = _angles.slice(-1)[0];
    layer._previousMidPoint = layer._midPoint = _midPoints.slice(-1)[0];
    layer._previousMidPointDistance = _midPoints.slice(-1)[0] - _midPoints.slice(0, 1)[0];
    _fingers = [];
    _distances = [];
    _angles = [];
    return _midPoints = [];
  };

  LayerPinch.define("fingers", {
    get: function() {
      return this._fingers || 0;
    }
  });

  LayerPinch.define("distance", {
    get: function() {
      return this._distance || 0;
    }
  });

  LayerPinch.define("previousDistance", {
    get: function() {
      return this._previousDistance || 0;
    }
  });

  LayerPinch.define("angle", {
    get: function() {
      return this._angle || 0;
    }
  });

  LayerPinch.define("previousAngle", {
    get: function() {
      return this._previousAngle || 0;
    }
  });

  LayerPinch.define("midPoint", {
    get: function() {
      return this._midPoint || 0;
    }
  });

  LayerPinch.define("previousMidPoint", {
    get: function() {
      return this._previousMidPoint || 0;
    }
  });

  LayerPinch.define("midPointDistance", {
    get: function() {
      return this._midPointDistance || 0;
    }
  });

  LayerPinch.define("previousMidPointDistance", {
    get: function() {
      return this._previousMidPointDistance || 0;
    }
  });

  return LayerPinch;

})(Framer.BaseClass);

},{}],"MultiTouchEvents":[function(require,module,exports){
var LayerPinch, _angles, _distances, _fingers, _midPoints,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

Events.Pinch = "pinch";

Events.PinchEnd = "pinchend";

_fingers = [];

_distances = [];

_angles = [];

_midPoints = [];

exports.LayerMultiTouchGesture = (function(superClass) {
  extend(LayerMultiTouchGesture, superClass);

  function LayerMultiTouchGesture(options) {
    if (options == null) {
      options = {};
    }
    LayerMultiTouchGesture.__super__.constructor.call(this, options);
  }

  LayerMultiTouchGesture.define("pinch", {
    get: function() {
      return this._pinch != null ? this._pinch : this._pinch = new LayerPinch(this);
    },
    set: function() {
      if (_isBoolean(value)) {
        return this.pinch.enabled = value;
      }
    }
  });

  return LayerMultiTouchGesture;

})(Framer.Layer);

window.Layer = exports.LayerMultiTouchGesture;

LayerPinch = (function(superClass) {
  extend(LayerPinch, superClass);

  LayerPinch.define("propagateEvents", LayerPinch.simpleProperty("propagateEvents", true));

  function LayerPinch(layer1) {
    this.layer = layer1;
    this._endValues = bind(this._endValues, this);
    this._pinchEnd = bind(this._pinchEnd, this);
    this._pinch = bind(this._pinch, this);
    this._pinchStart = bind(this._pinchStart, this);
    LayerPinch.__super__.constructor.apply(this, arguments);
    this.enabled = true;
    this.attach();
  }

  LayerPinch.prototype.attach = function() {
    return this.layer.on(Events.TouchStart, this._pinchStart);
  };

  LayerPinch.prototype._pinchStart = function(event) {
    this._fingers = event.targetTouches.length;
    if (this._fingers >= 2 && Utils.isMobile()) {
      document.addEventListener(Events.TouchMove, this._pinch);
      return document.addEventListener(Events.TouchEnd, this._pinchEnd);
    }
  };

  LayerPinch.prototype._pinch = function(event) {
    if (!this.enabled) {
      return;
    }
    event.preventDefault();
    if (!this.propagateEvents) {
      event.stopPropagation();
    }
    this._isPinching = true;
    this._fingers = event.targetTouches.length;
    if (this._fingers >= 2) {
      this._calculateDistance(event, this);
      this._calculateAngle(event, this);
      this._calculateMidPoint(event, this);
      return this.layer.emit(Events.Pinch, event);
    }
  };

  LayerPinch.prototype._pinchEnd = function(event) {
    if (event.targetTouches.length <= 0 && this._isPinching) {
      document.removeEventListener(Events.TouchMove, this._pinch);
      this._endValues(this);
      this.layer.emit(Events.PinchEnd, event);
      return this._isPinching = false;
    }
  };

  LayerPinch.prototype._calculateDistance = function(event, layer) {
    var distance, length, points, touches;
    length = event.targetTouches.length - 1;
    touches = event.targetTouches;
    points = {
      x: Math.pow(touches[length].pageX - touches[0].pageX, 2),
      y: Math.pow(touches[length].pageY - touches[0].pageY, 2)
    };
    distance = Math.sqrt(points.x + points.y);
    _distances.push(distance);
    return layer._distance = _distances.slice(-1)[0] - _distances.slice(0, 1)[0];
  };

  LayerPinch.prototype._calculateAngle = function(event, layer) {
    var angle, length, line, touches;
    length = event.targetTouches.length - 1;
    touches = event.targetTouches;
    line = {
      rise: touches[0].pageY - touches[length].pageY,
      run: touches[0].pageX - touches[length].pageX
    };
    angle = Math.atan(line.rise / line.run) * (180 / Math.PI);
    _angles.push(angle);
    return layer._angle = _angles.slice(-1)[0] - _angles.slice(0, 1)[0];
  };

  LayerPinch.prototype._calculateMidPoint = function(event, layer) {
    var i, len, midPoint, ref, touch, x, y;
    x = 0;
    y = 0;
    ref = event.targetTouches;
    for (i = 0, len = ref.length; i < len; i++) {
      touch = ref[i];
      x += touch.pageX;
      y += touch.pageY;
    }
    midPoint = {
      x: x / event.targetTouches.length,
      y: y / event.targetTouches.length
    };
    _midPoints.push(midPoint);
    layer._midPoint = _midPoints.slice(-1)[0];
    return layer._midPointDistance = _midPoints.slice(-1)[0] - _midPoints.slice(0, 1)[0];
  };

  LayerPinch.prototype._endValues = function(layer) {
    layer._previousDistance = layer._distance = _distances.slice(-1)[0];
    layer._previousAngle = layer._angle = _angles.slice(-1)[0];
    layer._previousMidPoint = layer._midPoint = _midPoints.slice(-1)[0];
    layer._previousMidPointDistance = _midPoints.slice(-1)[0] - _midPoints.slice(0, 1)[0];
    _fingers = [];
    _distances = [];
    _angles = [];
    return _midPoints = [];
  };

  LayerPinch.define("fingers", {
    get: function() {
      return this._fingers || 0;
    }
  });

  LayerPinch.define("distance", {
    get: function() {
      return this._distance || 0;
    }
  });

  LayerPinch.define("previousDistance", {
    get: function() {
      return this._previousDistance || 0;
    }
  });

  LayerPinch.define("angle", {
    get: function() {
      return this._angle || 0;
    }
  });

  LayerPinch.define("previousAngle", {
    get: function() {
      return this._previousAngle || 0;
    }
  });

  LayerPinch.define("midPoint", {
    get: function() {
      return this._midPoint || 0;
    }
  });

  LayerPinch.define("previousMidPoint", {
    get: function() {
      return this._previousMidPoint || 0;
    }
  });

  LayerPinch.define("midPointDistance", {
    get: function() {
      return this._midPointDistance || 0;
    }
  });

  LayerPinch.define("previousMidPointDistance", {
    get: function() {
      return this._previousMidPointDistance || 0;
    }
  });

  return LayerPinch;

})(Framer.BaseClass);



},{}],"myModule":[function(require,module,exports){
exports.myVar = "myVariable";

exports.myFunction = function() {
  return print("myFunction is running");
};

exports.myArray = [1, 2, 3];



},{}]},{},[])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi8uLi8uLi8uLi9Vc2Vycy9qb3NobXR1Y2tlci9HaXRIdWIvTXVsdGlUb3VjaEV2ZW50cy9NdWx0aVRvdWNoLmZyYW1lci9tb2R1bGVzL011bHRpVG91Y2hFdmVudHMuanMiLCIvVXNlcnMvam9zaG10dWNrZXIvR2l0SHViL011bHRpVG91Y2hFdmVudHMvTXVsdGlUb3VjaC5mcmFtZXIvbW9kdWxlcy9NdWx0aVRvdWNoRXZlbnRzLmNvZmZlZSIsIi9Vc2Vycy9qb3NobXR1Y2tlci9HaXRIdWIvTXVsdGlUb3VjaEV2ZW50cy9NdWx0aVRvdWNoLmZyYW1lci9tb2R1bGVzL215TW9kdWxlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFMO0dBQXBCLENBdEhBLENBQUE7O0FBQUEsRUF1SEEsVUFBQyxDQUFBLE1BQUQsQ0FBUSxrQkFBUixFQUE0QjtBQUFBLElBQUEsR0FBQSxFQUFLLFNBQUEsR0FBQTthQUFHLElBQUMsQ0FBQSxpQkFBRCxJQUFzQixFQUF6QjtJQUFBLENBQUw7R0FBNUIsQ0F2SEEsQ0FBQTs7QUFBQSxFQXdIQSxVQUFDLENBQUEsTUFBRCxDQUFRLGtCQUFSLEVBQTRCO0FBQUEsSUFBQSxHQUFBLEVBQUssU0FBQSxHQUFBO2FBQUcsSUFBQyxDQUFBLGlCQUFELElBQXNCLEVBQXpCO0lBQUEsQ0FBTDtHQUE1QixDQXhIQSxDQUFBOztBQUFBLEVBeUhBLFVBQUMsQ0FBQSxNQUFELENBQVEsMEJBQVIsRUFBb0M7QUFBQSxJQUFBLEdBQUEsRUFBSyxTQUFBLEdBQUE7YUFBRyxJQUFDLENBQUEseUJBQUQsSUFBOEIsRUFBakM7SUFBQSxDQUFMO0dBQXBDLENBekhBLENBQUE7O29CQUFBOztHQUR3QixNQUFNLENBQUMsVUFuQmhDLENBQUE7Ozs7O0FDSUEsT0FBTyxDQUFDLEtBQVIsR0FBZ0IsWUFBaEIsQ0FBQTs7QUFBQSxPQUVPLENBQUMsVUFBUixHQUFxQixTQUFBLEdBQUE7U0FDcEIsS0FBQSxDQUFNLHVCQUFOLEVBRG9CO0FBQUEsQ0FGckIsQ0FBQTs7QUFBQSxPQUtPLENBQUMsT0FBUixHQUFrQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUxsQixDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjFcbnZhciBMYXllclBpbmNoLCBfYW5nbGVzLCBfZGlzdGFuY2VzLCBfZmluZ2VycywgX21pZFBvaW50cyxcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9O1xuXG5FdmVudHMuUGluY2ggPSBcInBpbmNoXCI7XG5cbkV2ZW50cy5QaW5jaEVuZCA9IFwicGluY2hlbmRcIjtcblxuX2ZpbmdlcnMgPSBbXTtcblxuX2Rpc3RhbmNlcyA9IFtdO1xuXG5fYW5nbGVzID0gW107XG5cbl9taWRQb2ludHMgPSBbXTtcblxuZXhwb3J0cy5MYXllck11bHRpVG91Y2hHZXN0dXJlID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKExheWVyTXVsdGlUb3VjaEdlc3R1cmUsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIExheWVyTXVsdGlUb3VjaEdlc3R1cmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgTGF5ZXJNdWx0aVRvdWNoR2VzdHVyZS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIExheWVyTXVsdGlUb3VjaEdlc3R1cmUuZGVmaW5lKFwicGluY2hcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGluY2ggIT0gbnVsbCA/IHRoaXMuX3BpbmNoIDogdGhpcy5fcGluY2ggPSBuZXcgTGF5ZXJQaW5jaCh0aGlzKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoX2lzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGluY2guZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIExheWVyTXVsdGlUb3VjaEdlc3R1cmU7XG5cbn0pKEZyYW1lci5MYXllcik7XG5cbndpbmRvdy5MYXllciA9IGV4cG9ydHMuTGF5ZXJNdWx0aVRvdWNoR2VzdHVyZTtcblxuTGF5ZXJQaW5jaCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChMYXllclBpbmNoLCBzdXBlckNsYXNzKTtcblxuICBMYXllclBpbmNoLmRlZmluZShcInByb3BhZ2F0ZUV2ZW50c1wiLCBMYXllclBpbmNoLnNpbXBsZVByb3BlcnR5KFwicHJvcGFnYXRlRXZlbnRzXCIsIHRydWUpKTtcblxuICBmdW5jdGlvbiBMYXllclBpbmNoKGxheWVyMSkge1xuICAgIHRoaXMubGF5ZXIgPSBsYXllcjE7XG4gICAgdGhpcy5fZW5kVmFsdWVzID0gYmluZCh0aGlzLl9lbmRWYWx1ZXMsIHRoaXMpO1xuICAgIHRoaXMuX3BpbmNoRW5kID0gYmluZCh0aGlzLl9waW5jaEVuZCwgdGhpcyk7XG4gICAgdGhpcy5fcGluY2ggPSBiaW5kKHRoaXMuX3BpbmNoLCB0aGlzKTtcbiAgICB0aGlzLl9waW5jaFN0YXJ0ID0gYmluZCh0aGlzLl9waW5jaFN0YXJ0LCB0aGlzKTtcbiAgICBMYXllclBpbmNoLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5hdHRhY2goKTtcbiAgfVxuXG4gIExheWVyUGluY2gucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyLm9uKEV2ZW50cy5Ub3VjaFN0YXJ0LCB0aGlzLl9waW5jaFN0YXJ0KTtcbiAgfTtcblxuICBMYXllclBpbmNoLnByb3RvdHlwZS5fcGluY2hTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdGhpcy5fZmluZ2VycyA9IGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLl9maW5nZXJzID49IDIgJiYgVXRpbHMuaXNNb2JpbGUoKSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuVG91Y2hNb3ZlLCB0aGlzLl9waW5jaCk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuVG91Y2hFbmQsIHRoaXMuX3BpbmNoRW5kKTtcbiAgICB9XG4gIH07XG5cbiAgTGF5ZXJQaW5jaC5wcm90b3R5cGUuX3BpbmNoID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghdGhpcy5wcm9wYWdhdGVFdmVudHMpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICB0aGlzLl9pc1BpbmNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9maW5nZXJzID0gZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGg7XG4gICAgaWYgKHRoaXMuX2ZpbmdlcnMgPj0gMikge1xuICAgICAgdGhpcy5fY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQsIHRoaXMpO1xuICAgICAgdGhpcy5fY2FsY3VsYXRlQW5nbGUoZXZlbnQsIHRoaXMpO1xuICAgICAgdGhpcy5fY2FsY3VsYXRlTWlkUG9pbnQoZXZlbnQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXMubGF5ZXIuZW1pdChFdmVudHMuUGluY2gsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgTGF5ZXJQaW5jaC5wcm90b3R5cGUuX3BpbmNoRW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPD0gMCAmJiB0aGlzLl9pc1BpbmNoaW5nKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50cy5Ub3VjaE1vdmUsIHRoaXMuX3BpbmNoKTtcbiAgICAgIHRoaXMuX2VuZFZhbHVlcyh0aGlzKTtcbiAgICAgIHRoaXMubGF5ZXIuZW1pdChFdmVudHMuUGluY2hFbmQsIGV2ZW50KTtcbiAgICAgIHJldHVybiB0aGlzLl9pc1BpbmNoaW5nID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIExheWVyUGluY2gucHJvdG90eXBlLl9jYWxjdWxhdGVEaXN0YW5jZSA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIHZhciBkaXN0YW5jZSwgbGVuZ3RoLCBwb2ludHMsIHRvdWNoZXM7XG4gICAgbGVuZ3RoID0gZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggLSAxO1xuICAgIHRvdWNoZXMgPSBldmVudC50YXJnZXRUb3VjaGVzO1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IE1hdGgucG93KHRvdWNoZXNbbGVuZ3RoXS5wYWdlWCAtIHRvdWNoZXNbMF0ucGFnZVgsIDIpLFxuICAgICAgeTogTWF0aC5wb3codG91Y2hlc1tsZW5ndGhdLnBhZ2VZIC0gdG91Y2hlc1swXS5wYWdlWSwgMilcbiAgICB9O1xuICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KHBvaW50cy54ICsgcG9pbnRzLnkpO1xuICAgIF9kaXN0YW5jZXMucHVzaChkaXN0YW5jZSk7XG4gICAgcmV0dXJuIGxheWVyLl9kaXN0YW5jZSA9IF9kaXN0YW5jZXMuc2xpY2UoLTEpWzBdIC0gX2Rpc3RhbmNlcy5zbGljZSgwLCAxKVswXTtcbiAgfTtcblxuICBMYXllclBpbmNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQW5nbGUgPSBmdW5jdGlvbihldmVudCwgbGF5ZXIpIHtcbiAgICB2YXIgYW5nbGUsIGxlbmd0aCwgbGluZSwgdG91Y2hlcztcbiAgICBsZW5ndGggPSBldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aCAtIDE7XG4gICAgdG91Y2hlcyA9IGV2ZW50LnRhcmdldFRvdWNoZXM7XG4gICAgbGluZSA9IHtcbiAgICAgIHJpc2U6IHRvdWNoZXNbMF0ucGFnZVkgLSB0b3VjaGVzW2xlbmd0aF0ucGFnZVksXG4gICAgICBydW46IHRvdWNoZXNbMF0ucGFnZVggLSB0b3VjaGVzW2xlbmd0aF0ucGFnZVhcbiAgICB9O1xuICAgIGFuZ2xlID0gTWF0aC5hdGFuKGxpbmUucmlzZSAvIGxpbmUucnVuKSAqICgxODAgLyBNYXRoLlBJKTtcbiAgICBfYW5nbGVzLnB1c2goYW5nbGUpO1xuICAgIHJldHVybiBsYXllci5fYW5nbGUgPSBfYW5nbGVzLnNsaWNlKC0xKVswXSAtIF9hbmdsZXMuc2xpY2UoMCwgMSlbMF07XG4gIH07XG5cbiAgTGF5ZXJQaW5jaC5wcm90b3R5cGUuX2NhbGN1bGF0ZU1pZFBvaW50ID0gZnVuY3Rpb24oZXZlbnQsIGxheWVyKSB7XG4gICAgdmFyIGksIGxlbiwgbWlkUG9pbnQsIHJlZiwgdG91Y2gsIHgsIHk7XG4gICAgeCA9IDA7XG4gICAgeSA9IDA7XG4gICAgcmVmID0gZXZlbnQudGFyZ2V0VG91Y2hlcztcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvdWNoID0gcmVmW2ldO1xuICAgICAgeCArPSB0b3VjaC5wYWdlWDtcbiAgICAgIHkgKz0gdG91Y2gucGFnZVk7XG4gICAgfVxuICAgIG1pZFBvaW50ID0ge1xuICAgICAgeDogeCAvIGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoLFxuICAgICAgeTogeSAvIGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoXG4gICAgfTtcbiAgICBfbWlkUG9pbnRzLnB1c2gobWlkUG9pbnQpO1xuICAgIGxheWVyLl9taWRQb2ludCA9IF9taWRQb2ludHMuc2xpY2UoLTEpWzBdO1xuICAgIHJldHVybiBsYXllci5fbWlkUG9pbnREaXN0YW5jZSA9IF9taWRQb2ludHMuc2xpY2UoLTEpWzBdIC0gX21pZFBvaW50cy5zbGljZSgwLCAxKVswXTtcbiAgfTtcblxuICBMYXllclBpbmNoLnByb3RvdHlwZS5fZW5kVmFsdWVzID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgICBsYXllci5fcHJldmlvdXNEaXN0YW5jZSA9IGxheWVyLl9kaXN0YW5jZSA9IF9kaXN0YW5jZXMuc2xpY2UoLTEpWzBdO1xuICAgIGxheWVyLl9wcmV2aW91c0FuZ2xlID0gbGF5ZXIuX2FuZ2xlID0gX2FuZ2xlcy5zbGljZSgtMSlbMF07XG4gICAgbGF5ZXIuX3ByZXZpb3VzTWlkUG9pbnQgPSBsYXllci5fbWlkUG9pbnQgPSBfbWlkUG9pbnRzLnNsaWNlKC0xKVswXTtcbiAgICBsYXllci5fcHJldmlvdXNNaWRQb2ludERpc3RhbmNlID0gX21pZFBvaW50cy5zbGljZSgtMSlbMF0gLSBfbWlkUG9pbnRzLnNsaWNlKDAsIDEpWzBdO1xuICAgIF9maW5nZXJzID0gW107XG4gICAgX2Rpc3RhbmNlcyA9IFtdO1xuICAgIF9hbmdsZXMgPSBbXTtcbiAgICByZXR1cm4gX21pZFBvaW50cyA9IFtdO1xuICB9O1xuXG4gIExheWVyUGluY2guZGVmaW5lKFwiZmluZ2Vyc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9maW5nZXJzIHx8IDA7XG4gICAgfVxuICB9KTtcblxuICBMYXllclBpbmNoLmRlZmluZShcImRpc3RhbmNlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rpc3RhbmNlIHx8IDA7XG4gICAgfVxuICB9KTtcblxuICBMYXllclBpbmNoLmRlZmluZShcInByZXZpb3VzRGlzdGFuY2VcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNEaXN0YW5jZSB8fCAwO1xuICAgIH1cbiAgfSk7XG5cbiAgTGF5ZXJQaW5jaC5kZWZpbmUoXCJhbmdsZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hbmdsZSB8fCAwO1xuICAgIH1cbiAgfSk7XG5cbiAgTGF5ZXJQaW5jaC5kZWZpbmUoXCJwcmV2aW91c0FuZ2xlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzQW5nbGUgfHwgMDtcbiAgICB9XG4gIH0pO1xuXG4gIExheWVyUGluY2guZGVmaW5lKFwibWlkUG9pbnRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWlkUG9pbnQgfHwgMDtcbiAgICB9XG4gIH0pO1xuXG4gIExheWVyUGluY2guZGVmaW5lKFwicHJldmlvdXNNaWRQb2ludFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c01pZFBvaW50IHx8IDA7XG4gICAgfVxuICB9KTtcblxuICBMYXllclBpbmNoLmRlZmluZShcIm1pZFBvaW50RGlzdGFuY2VcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWlkUG9pbnREaXN0YW5jZSB8fCAwO1xuICAgIH1cbiAgfSk7XG5cbiAgTGF5ZXJQaW5jaC5kZWZpbmUoXCJwcmV2aW91c01pZFBvaW50RGlzdGFuY2VcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNNaWRQb2ludERpc3RhbmNlIHx8IDA7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gTGF5ZXJQaW5jaDtcblxufSkoRnJhbWVyLkJhc2VDbGFzcyk7XG4iLCJFdmVudHMuUGluY2ggPSBcInBpbmNoXCJcbkV2ZW50cy5QaW5jaEVuZCA9IFwicGluY2hlbmRcIlxuXG5fZmluZ2VycyA9IFtdXG5fZGlzdGFuY2VzID0gW11cbl9hbmdsZXMgPSBbXVxuX21pZFBvaW50cyA9IFtdXG5cbmNsYXNzIGV4cG9ydHMuTGF5ZXJNdWx0aVRvdWNoR2VzdHVyZSBleHRlbmRzIEZyYW1lci5MYXllclxuXHRjb25zdHJ1Y3RvcjogKG9wdGlvbnM9e30pIC0+XG5cdFx0c3VwZXIgb3B0aW9uc1xuXG5cdEBkZWZpbmUgXCJwaW5jaFwiLFxuXHRcdGdldDogLT4gQF9waW5jaCA/PSBuZXcgTGF5ZXJQaW5jaChAKVxuXHRcdHNldDogLT4gQHBpbmNoLmVuYWJsZWQgPSB2YWx1ZSBpZiBfaXNCb29sZWFuKHZhbHVlKVxuXG4jIFJlcGxhY2UgTGF5ZXIgd2l0aCBMYXllck11bHRpVG91Y2hHZXN0dXJlXG53aW5kb3cuTGF5ZXIgPSBleHBvcnRzLkxheWVyTXVsdGlUb3VjaEdlc3R1cmVcblxuY2xhc3MgTGF5ZXJQaW5jaCBleHRlbmRzIEZyYW1lci5CYXNlQ2xhc3Ncblx0QGRlZmluZSBcInByb3BhZ2F0ZUV2ZW50c1wiLCBAc2ltcGxlUHJvcGVydHkoXCJwcm9wYWdhdGVFdmVudHNcIiwgdHJ1ZSlcblx0XG5cblx0Y29uc3RydWN0b3I6IChAbGF5ZXIpIC0+XG5cdFx0c3VwZXJcblxuXHRcdEBlbmFibGVkID0gdHJ1ZVxuXG5cdFx0QGF0dGFjaCgpXG5cblx0YXR0YWNoOiAtPlxuXHRcdEBsYXllci5vbiBFdmVudHMuVG91Y2hTdGFydCwgQF9waW5jaFN0YXJ0XG5cblx0X3BpbmNoU3RhcnQ6IChldmVudCkgPT5cblx0XHRAX2ZpbmdlcnMgPSBldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aFxuXG5cdFx0aWYgQF9maW5nZXJzID49IDIgYW5kIFV0aWxzLmlzTW9iaWxlKClcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLlRvdWNoTW92ZSwgQF9waW5jaClcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLlRvdWNoRW5kLCBAX3BpbmNoRW5kKVxuXG5cdF9waW5jaDogKGV2ZW50KSA9PlxuXHRcdHJldHVybiB1bmxlc3MgQGVuYWJsZWRcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKSB1bmxlc3MgQHByb3BhZ2F0ZUV2ZW50c1xuXG5cdFx0QF9pc1BpbmNoaW5nID0gdHJ1ZVxuXG5cdFx0QF9maW5nZXJzID0gZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGhcblxuXHRcdGlmIEBfZmluZ2VycyA+PSAyXG5cblx0XHRcdCMgRGlzdGFuY2Vcblx0XHRcdEBfY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQsIEApXG5cblx0XHRcdCMgQW5nbGVcblx0XHRcdEBfY2FsY3VsYXRlQW5nbGUoZXZlbnQsIEApXG5cblx0XHRcdCMgTWlkcG9pbnRcblx0XHRcdEBfY2FsY3VsYXRlTWlkUG9pbnQoZXZlbnQsIEApXG5cblx0XHRcdEBsYXllci5lbWl0KEV2ZW50cy5QaW5jaCwgZXZlbnQpXG5cblx0X3BpbmNoRW5kOiAoZXZlbnQpID0+XG5cdFx0aWYgZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPD0gMCBhbmQgQF9pc1BpbmNoaW5nXG5cblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRzLlRvdWNoTW92ZSwgQF9waW5jaClcblxuXHRcdFx0QF9lbmRWYWx1ZXMoQClcblxuXHRcdFx0QGxheWVyLmVtaXQoRXZlbnRzLlBpbmNoRW5kLCBldmVudClcblxuXHRcdFx0QF9pc1BpbmNoaW5nID0gZmFsc2VcblxuXHRfY2FsY3VsYXRlRGlzdGFuY2U6IChldmVudCwgbGF5ZXIpIC0+XG5cdFx0bGVuZ3RoID0gZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggLSAxXG5cdFx0dG91Y2hlcyA9IGV2ZW50LnRhcmdldFRvdWNoZXNcblxuXHRcdHBvaW50cyA9IFxuXHRcdFx0eDogTWF0aC5wb3codG91Y2hlc1tsZW5ndGhdLnBhZ2VYIC0gdG91Y2hlc1swXS5wYWdlWCwgMilcblx0XHRcdHk6IE1hdGgucG93KHRvdWNoZXNbbGVuZ3RoXS5wYWdlWSAtIHRvdWNoZXNbMF0ucGFnZVksIDIpXG5cblx0XHRkaXN0YW5jZSA9IE1hdGguc3FydChwb2ludHMueCArIHBvaW50cy55KVxuXHRcdF9kaXN0YW5jZXMucHVzaChkaXN0YW5jZSlcblx0XHRsYXllci5fZGlzdGFuY2UgPSBfZGlzdGFuY2VzWy0xLi4tMV1bMF0gLSBfZGlzdGFuY2VzWzAuLjBdWzBdXG5cblx0X2NhbGN1bGF0ZUFuZ2xlOiAoZXZlbnQsIGxheWVyKSAtPlxuXHRcdGxlbmd0aCA9IGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoIC0gMVxuXHRcdHRvdWNoZXMgPSBldmVudC50YXJnZXRUb3VjaGVzXG5cblx0XHRsaW5lID0gXG5cdFx0XHRyaXNlOiB0b3VjaGVzWzBdLnBhZ2VZIC0gdG91Y2hlc1tsZW5ndGhdLnBhZ2VZXG5cdFx0XHRydW46IHRvdWNoZXNbMF0ucGFnZVggLSB0b3VjaGVzW2xlbmd0aF0ucGFnZVhcblxuXHRcdGFuZ2xlID0gTWF0aC5hdGFuKGxpbmUucmlzZS9saW5lLnJ1bikgKiAoMTgwL01hdGguUEkpXG5cdFx0X2FuZ2xlcy5wdXNoKGFuZ2xlKVxuXHRcdGxheWVyLl9hbmdsZSA9IF9hbmdsZXNbLTEuLi0xXVswXSAtIF9hbmdsZXNbMC4uMF1bMF1cblxuXHRfY2FsY3VsYXRlTWlkUG9pbnQ6IChldmVudCwgbGF5ZXIpIC0+XG5cdFx0eCA9IDBcblx0XHR5ID0gMFxuXHRcdFxuXHRcdGZvciB0b3VjaCBpbiBldmVudC50YXJnZXRUb3VjaGVzXG5cdFx0XHR4ICs9IHRvdWNoLnBhZ2VYXG5cdFx0XHR5ICs9IHRvdWNoLnBhZ2VZXG5cblx0XHRtaWRQb2ludCA9IFxuXHRcdFx0eDogeC9ldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aFxuXHRcdFx0eTogeS9ldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aFxuXG5cdFx0X21pZFBvaW50cy5wdXNoKG1pZFBvaW50KVxuXHRcdGxheWVyLl9taWRQb2ludCA9IF9taWRQb2ludHNbLTEuLi0xXVswXVxuXHRcdGxheWVyLl9taWRQb2ludERpc3RhbmNlID0gX21pZFBvaW50c1stMS4uLTFdWzBdIC0gX21pZFBvaW50c1swLi4wXVswXVxuXG5cblx0X2VuZFZhbHVlczogKGxheWVyKSA9PlxuXHRcdGxheWVyLl9wcmV2aW91c0Rpc3RhbmNlID0gbGF5ZXIuX2Rpc3RhbmNlID0gX2Rpc3RhbmNlc1stMS4uLTFdWzBdXG5cdFx0bGF5ZXIuX3ByZXZpb3VzQW5nbGUgPSBsYXllci5fYW5nbGUgPSBfYW5nbGVzWy0xLi4tMV1bMF1cblx0XHRsYXllci5fcHJldmlvdXNNaWRQb2ludCA9IGxheWVyLl9taWRQb2ludCA9IF9taWRQb2ludHNbLTEuLi0xXVswXVxuXHRcdGxheWVyLl9wcmV2aW91c01pZFBvaW50RGlzdGFuY2UgPSBfbWlkUG9pbnRzWy0xLi4tMV1bMF0gLSBfbWlkUG9pbnRzWzAuLjBdWzBdXG5cblx0XHQjIFRPRE86IElzIGl0IG5lY2Vzc2FyeSB0byBjbGVhciB0aGVzZT8gV291bGQgdGhlcmUgYmUgYSByZWFzb24gdG8ga2VlcCB0aGVpciB2YWx1ZXM/XG5cdFx0IyBXb3VsZG4ndCByZXF1aXJlIHN0b3JpbmcgcHJldmlvdXMgdmFsdWVzIGZvciBtb2R1bGF0ZSwgYnV0IG1heSBydW4gaW50byBvdGhlciBwcm9ibGVtc1xuXG5cdFx0X2ZpbmdlcnMgPSBbXVxuXHRcdF9kaXN0YW5jZXMgPSBbXVxuXHRcdF9hbmdsZXMgPSBbXVxuXHRcdF9taWRQb2ludHMgPSBbXVxuXG5cdEBkZWZpbmUgXCJmaW5nZXJzXCIsIGdldDogLT4gQF9maW5nZXJzIG9yIDBcblxuXHRAZGVmaW5lIFwiZGlzdGFuY2VcIiwgZ2V0OiAtPiBAX2Rpc3RhbmNlIG9yIDBcblx0QGRlZmluZSBcInByZXZpb3VzRGlzdGFuY2VcIiwgZ2V0OiAtPiBAX3ByZXZpb3VzRGlzdGFuY2Ugb3IgMFxuXG5cblx0QGRlZmluZSBcImFuZ2xlXCIsIGdldDogLT4gQF9hbmdsZSBvciAwXG5cdEBkZWZpbmUgXCJwcmV2aW91c0FuZ2xlXCIsIGdldDogLT4gQF9wcmV2aW91c0FuZ2xlIG9yIDBcblxuXHRAZGVmaW5lIFwibWlkUG9pbnRcIiwgZ2V0OiAtPiBAX21pZFBvaW50IG9yIDBcblx0QGRlZmluZSBcInByZXZpb3VzTWlkUG9pbnRcIiwgZ2V0OiAtPiBAX3ByZXZpb3VzTWlkUG9pbnQgb3IgMFxuXHRAZGVmaW5lIFwibWlkUG9pbnREaXN0YW5jZVwiLCBnZXQ6IC0+IEBfbWlkUG9pbnREaXN0YW5jZSBvciAwXG5cdEBkZWZpbmUgXCJwcmV2aW91c01pZFBvaW50RGlzdGFuY2VcIiwgZ2V0OiAtPiBAX3ByZXZpb3VzTWlkUG9pbnREaXN0YW5jZSBvciAwXG5cblxuIiwiIyBBZGQgdGhlIGZvbGxvd2luZyBsaW5lIHRvIHlvdXIgcHJvamVjdCBpbiBGcmFtZXIgU3R1ZGlvLiBcbiMgbXlNb2R1bGUgPSByZXF1aXJlIFwibXlNb2R1bGVcIlxuIyBSZWZlcmVuY2UgdGhlIGNvbnRlbnRzIGJ5IG5hbWUsIGxpa2UgbXlNb2R1bGUubXlGdW5jdGlvbigpIG9yIG15TW9kdWxlLm15VmFyXG5cbmV4cG9ydHMubXlWYXIgPSBcIm15VmFyaWFibGVcIlxuXG5leHBvcnRzLm15RnVuY3Rpb24gPSAtPlxuXHRwcmludCBcIm15RnVuY3Rpb24gaXMgcnVubmluZ1wiXG5cbmV4cG9ydHMubXlBcnJheSA9IFsxLCAyLCAzXSJdfQ==
